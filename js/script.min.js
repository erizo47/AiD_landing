class Accordion{constructor(el){this.el=el,this.summary=el.querySelector(".scenarios__header"),this.content=el.querySelector(".scenarios__content"),this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.summary.addEventListener("click",e=>this.onClick(e))}onClick(e){e.preventDefault(),this.el.style.overflow="hidden",this.isClosing||!this.el.open?this.open():(this.isExpanding||this.el.open)&&this.shrink()}shrink(){this.isClosing=!0;const startHeight=`${this.el.offsetHeight}px`,endHeight=`${this.summary.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[startHeight,endHeight]},{duration:150,easing:"ease"}),this.animation.onfinish=()=>this.onAnimationFinish(!1),this.animation.oncancel=()=>this.isClosing=!1}open(){this.el.style.height=`${this.el.offsetHeight}px`,this.el.open=!0,window.requestAnimationFrame(()=>this.expand())}expand(){this.isExpanding=!0;const startHeight=`${this.el.offsetHeight}px`,endHeight=`${this.summary.offsetHeight+this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.el.animate({height:[startHeight,endHeight]},{duration:150,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.isExpanding=!1}onAnimationFinish(open){this.el.open=open,this.animation=null,this.isClosing=!1,this.isExpanding=!1,this.el.style.height=this.el.style.overflow=""}}function nav(){let nav__btn=document.getElementById("nav__btn"),mob_nav_state=!1;nav__btn.addEventListener("click",()=>{0==mob_nav_state?(document.getElementById("mob_nav").style.display="block",mob_nav_state=!0):(document.getElementById("mob_nav").style.display="none",mob_nav_state=!1)});const menu_link=document.getElementsByClassName("menu__link");[...menu_link].forEach(el=>{el.addEventListener("click",()=>{1==mob_nav_state&&(mob_nav_state=!1,document.getElementById("mob_nav").style.display="none")})})}document.querySelectorAll("details").forEach(el=>{new Accordion(el)});let team_member_img=document.querySelectorAll(".cards_mob_img"),team_member_item=document.querySelectorAll(".cards_mob_item");const lumbar_spine_y=document.getElementById("view_lumbar_spine_y"),lumbar_spine_x=document.getElementById("view_lumbar_spine_x");function switchActiveTeamMember(){team_member_img.forEach(x=>{x.addEventListener("click",e=>{[...team_member_img].forEach(el=>el.classList.remove("active_team_img")),document.getElementById(e.target.id).classList.add("active_team_img");let member_active_img=document.querySelector(".active_team_img"),active_index=[...team_member_img].indexOf(member_active_img);[...team_member_item].forEach(el=>el.classList.remove("active_team_item")),team_member_item[active_index].classList.add("active_team_item")})})}const module_items=document.querySelectorAll(".module_item"),viewer=document.getElementById("viewer"),view_images=document.querySelectorAll(".view_images");let view_container=document.getElementById("view_lung_nodules"),viewer_background=["#262626","#252525"],screenWidth=window.innerWidth;const module_text=document.querySelectorAll(".module_text"),markup_btn=document.getElementById("markup_btn"),show_axial=document.getElementById("show_axial");let markUp=!0,axial=!0,useSpine=!1;function switchAxial(){useSpine=!0,axial?(axial=!1,markUp=!0,view_container=lumbar_spine_y,lumbar_spine_x.style.display="none",lumbar_spine_y.style.display="block",lumbar_spine_y.firstElementChild.style.opacity=1,lumbar_spine_y.lastElementChild.style.opacity=0,show_axial.textContent="Show sagittal"):(axial=!0,markUp=!0,view_container=lumbar_spine_x,lumbar_spine_y.style.display="none",lumbar_spine_x.style.display="block",lumbar_spine_x.firstElementChild.style.opacity=1,lumbar_spine_x.lastElementChild.style.opacity=0,show_axial.textContent="Show axial")}function removeViewImagesActive(){[...view_images].forEach(el=>el.classList.remove("view_images_active")),markUp=!0,view_container.firstElementChild.style.opacity=1,view_container.lastElementChild.style.opacity=0,view_container.classList.add("view_images_active"),markup_btn.textContent="Hide the markup",viewer.style.background=viewer_background[0],show_axial.style.display="none",useSpine&&(lumbar_spine_y.style.display="none",lumbar_spine_x.style.display="none"),screenWidth=window.innerWidth,console.log(screenWidth),screenWidth>640?markup_btn.style.width="auto":screenWidth<=640&&(markup_btn.style.width="100%")}function switchActiveModule(){module_items.forEach(item=>{item.addEventListener("click",e=>{[...module_items].forEach(el=>el.classList.remove("module_active")),screenWidth<861&&[...module_text].forEach(el=>el.style.display="none");let tar=e.target.closest(".module_item"),tar_id;switch(document.getElementById(tar.id).classList.add("module_active"),tar.id){case"lung_nodules":view_container=document.getElementById("view_lung_nodules"),viewer_background=["#262626","#252525"],removeViewImagesActive();break;case"covid_19":view_container=document.getElementById("view_covid_19"),viewer_background=["#262626","#151515"],removeViewImagesActive();break;case"hypertension":view_container=document.getElementById("view_hypertension"),viewer_background=["#000000","#000000"],removeViewImagesActive();break;case"hydrothorax":view_container=document.getElementById("view_hydrothorax"),viewer_background=["#000000","#000000"],removeViewImagesActive();break;case"osteoporosis":view_container=document.getElementById("view_osteoporosis"),viewer_background=["#000000","#000000"],removeViewImagesActive();break;case"lumbar_spine":view_container=document.getElementById("view_lumbar_spine_x"),viewer_background=["#000000","#000000"],removeViewImagesActive(),view_container.style.display="block",show_axial.style.display="block",useSpine=!0,axial=!0,markup_btn.style.width="100%",show_axial.style.width="100%";break;case"aortic_aneurysm":view_container=document.getElementById("view_aortic_aneurysm"),viewer_background=["#111111","#000000"],removeViewImagesActive()}})})}function switchMarkUp(){markUp?(markUp=!1,view_container.firstElementChild.style.opacity=0,view_container.lastElementChild.style.opacity=1,viewer.style.background=viewer_background[1],markup_btn.textContent="Show the markup"):(markUp=!0,view_container.firstElementChild.style.opacity=1,view_container.lastElementChild.style.opacity=0,viewer.style.background=viewer_background[0],markup_btn.textContent="Hide the markup")}const form=document.getElementById("contact_form"),modal=document.getElementById("modal_container");async function handleForm(e){e.preventDefault();let formData=new FormData(form);const formDataObj={};formData.forEach((value,key)=>formDataObj[key]=value);let url=form.action;console.log(formDataObj),await sendForm(url,formDataObj),openModal(),setTimeout(()=>{closeModal()},5e4)}async function sendForm(url,formDataObj){return await fetch(url,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(formDataObj)}).then(responce=>responce.json()).then(data=>console.log(data)).catch(error=>console.error(error))}function openModal(){modal.style.display="flex"}function closeModal(){modal.style.display="none"}form.addEventListener("submit",handleForm);let phoneMask=IMask(document.getElementById("phone"),{mask:"+{0}(000)000-00-00"});nav(),switchActiveModule();